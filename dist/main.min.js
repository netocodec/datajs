(()=>{"use strict";var e,t,r,o={739:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataFor=void 0;var o=r(238),s=r(62),n=function(){function e(e){this.FIELD_SEPARATOR=";",this.RAW_FIELD=/`/g,this.RAW_FIELD_STR="`",this.PROTOCOL="://",this.SEARCH_ELEMENTS="[data-for-subid][data-for-id]",this.refreshTimer=null;var t=this,r=e.tagName.toLowerCase(),o=e.dataset,n=o.fields.split(this.FIELD_SEPARATOR),a=o.requestMethod,i=o.requestParams,l=o.requestRefresh,u=o.requestUrl;if(-1===u.indexOf(this.PROTOCOL))t.construct_result(r,window[u],n);else{var d=function(){new s.Network(u,a,i,!0).call((function(o,s){t.construct_result(r,s,n,e)}),(function(o){t.construct_result(r,[],n,e)}))};l&&(this.refreshTimer=setInterval((function(){d()}),1e3*parseInt(l))),d()}}return e.prototype.construct_result=function(e,t,r,s){for(var n=0;n<t.length;n++)for(var a=t[n],i=n.toString(),l=0;l<r.length;l++){var u=document.createElement(e),d=r[l],c=l.toString(),f='[data-for-subid="'+i+'"][data-for-id="'+c+'"]';u.dataset.forId=c,u.dataset.forSubid=i,s.querySelector(f)&&(u=s.querySelector(f)),-1!==d.indexOf(this.RAW_FIELD_STR)?u.innerHTML=d.replace(this.RAW_FIELD,""):u.innerHTML=o.Global.getStringProperty(a,d),s.appendChild(u)}this.clean_up_unwanted_result(t.length,r.length,s)},e.prototype.clean_up_unwanted_result=function(e,t,r){for(var o=r.querySelectorAll(this.SEARCH_ELEMENTS),s=e;s<o.length;s++)for(var n=0;n<t;n++){var a='[data-for-subid="'+s+'"][data-for-id="'+n+'"]',i=r.querySelector(a);i&&i.remove()}},e.prototype.error_result=function(e,t){var r=document.createElement(t);r.innerHTML="No Datasource found!",e.appendChild(r)},e.prototype.destroy=function(){null!==this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null)},e}();t.DataFor=n},238:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Global=void 0;var r=function(){function e(){}return e.getStringProperty=function(e,t){for(var r=e,o=t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),s=0;s<o.length;s++){var n=o[s];if(!(n in r))return r;r=r[n]}return r},e}();t.Global=r},62:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Network=void 0;var r=function(){function e(e,t,r,o){void 0===o&&(o=!0),this.url=e,this.method=t,this.params=r,this.parse_params_to_json=o}return e.prototype.call=function(e,t){var r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var o=null;try{o=JSON.parse(r.responseText)}catch(e){o=r.responseText}e(r,o)}else 4===r.readyState&&200!==r.status&&t(r)},void 0!==t&&(r.ontimeout=t),r.open(this.method,this.url,!0),r.timeout=3e4,r.setRequestHeader("Referer",this.url),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Access-Control-Allow-Origin","*"),"POST"===this.method&&void 0!==this.params){if(r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),"string"==typeof this.params&&this.parse_params_to_json&&(this.params=JSON.parse(this.params)),void 0!==this.params.time&&"DATE_NOW"===this.params.time){var o=new Date;this.params.time="".concat(o.getHours(),":").concat(o.getMinutes())}r.send(JSON.stringify(this.params))}else r.send()},e}();t.Network=r},170:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VDOM=void 0;var r=function(){function e(){}return e.add_element=function(t){console.log("add_element::".concat(t.id)),e.dom_list.push(t)},e.clear=function(){for(var t=0;t<e.dom_list.length;t++)e.dom_list[t].element_class.destroy(),e.dom_list[t].element.remove();e.dom_list=[]},e.remove_element=function(t){for(var r=-1,o=0;o<e.dom_list.length;o++)if(e.dom_list[o].id===t){r=o;break}-1!==r&&(e.dom_list[r].element_class.destroy(),e.dom_list[r].element.remove(),e.dom_list.splice(r,1))},e.dom_list=[],e}();t.VDOM=r}},s={};function n(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return o[e](r,r.exports,n),r.exports}e=n(739),t=n(170),r=function(){function r(){console.log("DataJS v1.0.0");for(var r=document.querySelectorAll("[data-for]"),o=0;o<r.length;o++){var s=r[o],n=new e.DataFor(s);s.dataset.id=o.toString(),t.VDOM.add_element({id:"dfor-"+o.toString(),element:s,element_class:n})}}return r.prototype.clear_datajs=function(){console.log("Clear DataJS..."),t.VDOM.clear()},r}(),window.DataJS=r})();