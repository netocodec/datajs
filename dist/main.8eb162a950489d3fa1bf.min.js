/*! For license information please see main.8eb162a950489d3fa1bf.min.js.LICENSE.txt */
!function(){"use strict";var e,t,r={739:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DataFor=void 0;var a=r(238),i=r(62),o=function(){function e(e){this.PROTOCOL="://",this.SEARCH_ELEMENTS="[data-for-subid][data-for-id]",this.refreshTimer=null,this.escapedFields=[],this.filterTop=-1;var t=this,r=e.tagName.toLowerCase(),o=e.dataset,n=o.fields,s=o.escapedFields,l=o.requestMethod,d=o.requestParams,u=o.requestRefresh,c=o.requestValue,f=o.requestUrl,p=o.filterTop,_=o.noMessage,v=o.filterFields;if(s&&(this.escapedFields=s.split(a.Global.FIELD_SEPARATOR)),p&&(this.filterTop=p),_&&(this.noMessage=_),-1===f.indexOf(this.PROTOCOL))t.construct_result(r,window[f],n,e);else{var h=function(){new i.Network(f,l,d,!0).call((function(i,o){var s=o;c&&(s=a.Global.getStringProperty(o,c)),v&&(s=a.Global.filterData(s,v)),t.construct_result(r,s,n,e)}),(function(a){t.construct_result(r,[],n,e)}))};u&&(this.refreshTimer=setInterval((function(){h()}),1e3*parseInt(u))),h()}}return e.prototype.construct_result=function(e,t,r,i){var o=t.length;-1!==this.filterTop&&(o=this.filterTop);for(var n=0;n<o;n++){var s=t[n];if(s){var l=n.toString(),d=a.Global.createStringValue(r,s),u="";i.dataset.style&&(u=a.Global.applyStyle(i.dataset.style,s));for(var c=0;c<d.fields_list.length;c++){var f=document.createElement(e),p=d.fields_list[c],_=d.fields_id_list[c],v=c.toString(),h='[data-for-subid="'+l+'"][data-for-id="'+v+'"]';f.dataset.forId=v,f.dataset.forSubid=l,i.querySelector(h)&&(f=i.querySelector(h)),-1===this.escapedFields.indexOf(_)&&(p=a.Global.escapeHTMLCode(p.toString())),""!==u&&f.setAttribute("style",u),f.innerHTML=p,i.appendChild(f)}}}this.clean_up_unwanted_result(t.length,a.Global.getFieldsLength(r),i),0===o&&this.noMessage&&(h='[data-for-subid="0"][data-for-id="0"]',(f=document.createElement(e)).dataset.forId="0",f.dataset.forSubid="0",i.querySelector(h)&&(f=i.querySelector(h)),f.innerHTML=a.Global.escapeHTMLCode(this.noMessage),i.appendChild(f))},e.prototype.clean_up_unwanted_result=function(e,t,r){for(var a=r.querySelectorAll(this.SEARCH_ELEMENTS),i=e;i<a.length;i++)for(var o=0;o<t;o++){var n='[data-for-subid="'+i+'"][data-for-id="'+o+'"]',s=r.querySelector(n);s&&s.remove()}},e.prototype.error_result=function(e,t){var r=document.createElement(t);r.innerHTML="No Datasource found!",e.appendChild(r)},e.prototype.destroy=function(){null!==this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null)},e}();t.DataFor=o},362:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DataImage=void 0;var r=function(){function e(e){this.element=e;var t=e.dataset.image;this.construct_result(e,t)}return e.prototype.construct_result=function(e,t){var r=document.createElement("img");r.src=t,e.appendChild(r)},e.prototype.destroy=function(){},e}();t.DataImage=r},647:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DataRedirect=void 0;var r=function(){function e(e){this.element=e;var t=e.dataset,r=t.redirect,a=t.windowNew;this.construct_result(e,r,a)}return e.prototype.construct_result=function(e,t,r){e.onclick=function(){void 0!==r?window.open(t,"_blank"):window.location=t}},e.prototype.destroy=function(){},e}();t.DataRedirect=r},473:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DataValue=void 0;var a=r(62),i=r(238),o=function(){function e(e){this.escapedFields=!1,this.element=e;var t=this,r=e.dataset,i=r.requestUrl,o=r.requestMethod,n=r.requestParams,s=r.value,l=r.escapedFields;this.escapedFields=void 0!==l,new a.Network(i,o,n,!0).call((function(r,a){t.construct_result(e,a,s)}),(function(r){t.construct_result(e,{},s)}))}return e.prototype.construct_result=function(e,t,r){var a=i.Global.createStringValue(r,t);this.escapedFields||(a.result=i.Global.escapeHTMLCode(a.result)),e.innerHTML=a.result},e.prototype.destroy=function(){},e}();t.DataValue=o},345:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DataVideo=void 0;var r=function(){function e(e){this.element=e,this.construct_result(e)}return e.prototype.construct_result=function(e){var t=e.dataset,r=t.video,a=t.videoAutoplay,i=t.videoPreload,o=t.videoTexture,n=t.videoWidth,s=t.videoHeight,l=t.videoVolume,d=t.videoControls,u=document.createElement("video");u.src=r,void 0!==a&&u.setAttribute("autoplay",""),void 0!==i&&u.setAttribute("preload",""),void 0!==o&&u.setAttribute("texture",""),void 0!==n&&u.setAttribute("width",n),void 0!==s&&u.setAttribute("height",s),void 0!==d&&u.setAttribute("controls",""),void 0!==l&&(u.volume=l),e.appendChild(u)},e.prototype.destroy=function(){},e}();t.DataVideo=r},238:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Global=void 0;var r=function(){function e(){}return e.getStringProperty=function(e,t){for(var r=e,a=t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),i=0;i<a.length;i++){var o=a[i];if(!(o in r))return r;r=r[o]}return r},e.createStringValue=function(t,r){for(var a={result:"",fields_list:[],fields_id_list:[]},i=t.split(e.FIELD_SEPARATOR),o=0;o<i.length;o++){var n,s=i[o];n=-1!==s.indexOf(e.RAW_FIELD_STR)?s.replace(e.RAW_FIELD,""):e.getStringProperty(r,s),a.fields_list.push(n),a.fields_id_list.push(s),a.result+=n}return a},e.getFieldsLength=function(t){return t.split(e.FIELD_SEPARATOR).length},e.escapeHTMLCode=function(t){return t.replace(e.ESCAPE_HTML,"")},e.applyStyle=function(t,r){for(var a="",i=t.split(e.SPACE_CHAR),o=0;o<i.length;o++){var n=i[o].split(e.DDOT_CHAR),s=n[1];if(0!==s.length){var l={result:s=s.substring(0,s.length-1),fields_list:[],fields_id_list:[]};-1!==s.indexOf(e.FIELD_SEPARATOR)&&(l=e.createStringValue(s,r)),a+="".concat(n[0],":").concat(l.result,";")}}return a},e.filterData=function(t,r){for(var a=r.split(e.FIELD_SEPARATOR),i=t,o=0;o<a.length;o++)for(var n=a[o],s=function(t){var r=e.OPERATORS_LIST[t];if(-1!==n.indexOf(r)){var a=n.split(r);i=i.filter((function(t){var i=e.getStringProperty(t,a[0]),o=a[1];return"string"==typeof o&&"number"==typeof i?o=parseInt(o):"boolean"==typeof i&&(o="true"===o),e.compareData(i,r,o)}))}},l=0;l<e.OPERATORS_LIST.length;l++)s(l);return i},e.compareData=function(e,t,r){var a=!1;switch(t){case">":a=e>r;break;case"<":a=e<r;break;case">=":a=e>=r;break;case"<=":a=e<=r;break;case"==":a=e===r;break;case"!=":a=e!==r}return a},e.FIELD_SEPARATOR=";",e.DDOT_CHAR=":",e.SPACE_CHAR=" ",e.RAW_FIELD=/`/g,e.ESCAPE_HTML=/(<\/{1})|(<{1})/gim,e.RAW_FIELD_STR="`",e.OPERATORS_LIST=[">","<","<=",">=","==","!="],e}();t.Global=r},62:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Network=void 0;var r=function(){function e(e,t,r,a){void 0===a&&(a=!0),this.url=e,this.method=t,this.params=r,this.parse_params_to_json=a}return e.prototype.call=function(e,t){var r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var a=null;try{a=JSON.parse(r.responseText)}catch(e){a=r.responseText}e(r,a)}else 4===r.readyState&&200!==r.status&&t(r)},void 0!==t&&(r.ontimeout=t),r.open(this.method,this.url,!0),r.timeout=3e4,r.setRequestHeader("Referer",this.url),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Access-Control-Allow-Origin","*"),"POST"===this.method&&void 0!==this.params){if(r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),"string"==typeof this.params&&this.parse_params_to_json&&(this.params=JSON.parse(this.params)),void 0!==this.params.time&&"DATE_NOW"===this.params.time){var a=new Date;this.params.time="".concat(a.getHours(),":").concat(a.getMinutes())}r.send(JSON.stringify(this.params))}else r.send()},e}();t.Network=r},170:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.VDOM=void 0;var a=r(739),i=r(473),o=r(362),n=r(345),s=r(647),l=function(){function e(){}return e.add_element=function(t){e.dom_list.push(t)},e.clear=function(){for(var t=0;t<e.dom_list.length;t++)e.dom_list[t].element_class.destroy(),e.dom_list[t].element.remove();e.dom_list=[]},e.remove_element=function(t){for(var r=0;r<e.dom_list.length;r++)if(e.dom_list[r].id===t){e.dom_list[r].element_class.destroy(),e.dom_list[r].element.remove(),e.dom_list.splice(r,1);break}},e.get_class=function(e){var t=null;switch(e){case"dfor":t=a.DataFor;break;case"dvalue":t=i.DataValue;break;case"dimage":t=o.DataImage;break;case"dvideo":t=n.DataVideo;break;case"dredirect":t=s.DataRedirect}return t},e.dom_list=[],e.VALID_VDOM_LIST=[{id:"dfor",attr_name:"[data-for]"},{id:"dvalue",attr_name:"[data-value]"},{id:"dimage",attr_name:"[data-image]"},{id:"dvideo",attr_name:"[data-video]"},{id:"dredirect",attr_name:"[data-redirect]"}],e}();t.VDOM=l}},a={};e=function e(t){var i=a[t];if(void 0!==i)return i.exports;var o=a[t]={exports:{}};return r[t](o,o.exports,e),o.exports}(170),t=function(){function t(){console.log("DataJS Init...");for(var t=0;t<e.VDOM.VALID_VDOM_LIST.length;t++)for(var r=e.VDOM.VALID_VDOM_LIST[t],a=document.querySelectorAll(r.attr_name),i=0;i<a.length;i++){var o=a[i],n=e.VDOM.get_class(r.id);null!==n&&(n=new n(o),o.dataset.id=i.toString(),e.VDOM.add_element({id:"".concat(r.id,"-").concat(i.toString()),element:o,element_class:n}))}}return t.prototype.clear_datajs=function(){console.log("Clear DataJS..."),e.VDOM.clear()},t}(),window.DataJS=t}();