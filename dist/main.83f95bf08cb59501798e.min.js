/*! For license information please see main.83f95bf08cb59501798e.min.js.LICENSE.txt */
(()=>{"use strict";var e,t,r={739:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataFor=void 0;var a=r(238),o=r(62),i=function(){function e(e){this.PROTOCOL="://",this.SEARCH_ELEMENTS="[data-for-subid][data-for-id]",this.refreshTimer=null,this.escapedFields=[],this.filterTop=-1;var t=this,r=e.tagName.toLowerCase(),i=e.dataset,s=i.fields,n=i.escapedFields,l=i.requestMethod,d=i.requestParams,u=i.requestRefresh,c=i.requestValue,f=i.requestUrl,p=i.filterTop,_=i.noMessage,v=i.filterFields;if(n&&(this.escapedFields=n.split(a.Global.FIELD_SEPARATOR)),p&&(this.filterTop=p),_&&(this.noMessage=_),-1===f.indexOf(this.PROTOCOL))t.construct_result(r,window[f],s,e);else{var h=function(){new o.Network(f,l,d,!0).call((function(o,i){var n=i;c&&(n=a.Global.getStringProperty(i,c)),v&&(n=a.Global.filterData(n,v)),t.construct_result(r,n,s,e)}),(function(a){t.construct_result(r,[],s,e)}))};u&&(this.refreshTimer=setInterval((function(){h()}),1e3*parseInt(u))),h()}}return e.prototype.construct_result=function(e,t,r,o){var i=t.length;-1!==this.filterTop&&(i=this.filterTop);for(var s=0;s<i;s++){var n=t[s];if(n)for(var l=s.toString(),d=a.Global.createStringValue(r,n),u=0;u<d.fields_list.length;u++){var c=document.createElement(e),f=d.fields_list[u],p=d.fields_id_list[u],_=u.toString(),v='[data-for-subid="'+l+'"][data-for-id="'+_+'"]';c.dataset.forId=_,c.dataset.forSubid=l,o.querySelector(v)&&(c=o.querySelector(v)),-1===this.escapedFields.indexOf(p)&&(f=a.Global.escapeHTMLCode(f)),c.innerHTML=f,o.appendChild(c)}}this.clean_up_unwanted_result(t.length,a.Global.getFieldsLength(r),o),0===i&&this.noMessage&&(v='[data-for-subid="0"][data-for-id="0"]',(c=document.createElement(e)).dataset.forId="0",c.dataset.forSubid="0",o.querySelector(v)&&(c=o.querySelector(v)),c.innerHTML=a.Global.escapeHTMLCode(this.noMessage),o.appendChild(c))},e.prototype.clean_up_unwanted_result=function(e,t,r){for(var a=r.querySelectorAll(this.SEARCH_ELEMENTS),o=e;o<a.length;o++)for(var i=0;i<t;i++){var s='[data-for-subid="'+o+'"][data-for-id="'+i+'"]',n=r.querySelector(s);n&&n.remove()}},e.prototype.error_result=function(e,t){var r=document.createElement(t);r.innerHTML="No Datasource found!",e.appendChild(r)},e.prototype.destroy=function(){null!==this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null)},e}();t.DataFor=i},362:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataImage=void 0;var r=function(){function e(e){this.element=e;var t=e.dataset.image;this.construct_result(e,t)}return e.prototype.construct_result=function(e,t){var r=document.createElement("img");r.src=t,e.appendChild(r)},e.prototype.destroy=function(){},e}();t.DataImage=r},473:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataValue=void 0;var a=r(62),o=r(238),i=function(){function e(e){this.escapedFields=!1,this.element=e;var t=this,r=e.dataset,o=r.requestUrl,i=r.requestMethod,s=r.requestParams,n=r.value,l=r.escapedFields;this.escapedFields=void 0!==l,new a.Network(o,i,s,!0).call((function(r,a){t.construct_result(e,a,n)}),(function(r){t.construct_result(e,{},n)}))}return e.prototype.construct_result=function(e,t,r){var a=o.Global.createStringValue(r,t);this.escapedFields||(a.result=o.Global.escapeHTMLCode(a.result)),e.innerHTML=a.result},e.prototype.destroy=function(){},e}();t.DataValue=i},345:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataVideo=void 0;var r=function(){function e(e){this.element=e,this.construct_result(e)}return e.prototype.construct_result=function(e){var t=e.dataset,r=t.video,a=t.videoAutoplay,o=t.videoPreload,i=t.videoTexture,s=t.videoWidth,n=t.videoHeight,l=t.videoVolume,d=t.videoControls,u=document.createElement("video");u.src=r,void 0!==a&&u.setAttribute("autoplay",""),void 0!==o&&u.setAttribute("preload",""),void 0!==i&&u.setAttribute("texture",""),void 0!==s&&u.setAttribute("width",s),void 0!==n&&u.setAttribute("height",n),void 0!==d&&u.setAttribute("controls",""),void 0!==l&&(u.volume=l),e.appendChild(u)},e.prototype.destroy=function(){},e}();t.DataVideo=r},238:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Global=void 0;var r=function(){function e(){}return e.getStringProperty=function(e,t){for(var r=e,a=t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),o=0;o<a.length;o++){var i=a[o];if(!(i in r))return r;r=r[i]}return r},e.createStringValue=function(t,r){for(var a={result:"",fields_list:[],fields_id_list:[]},o=t.split(e.FIELD_SEPARATOR),i=0;i<o.length;i++){var s,n=o[i];s=-1!==n.indexOf(e.RAW_FIELD_STR)?n.replace(e.RAW_FIELD,""):e.getStringProperty(r,n),a.fields_list.push(s),a.fields_id_list.push(n),a.result+=s}return a},e.getFieldsLength=function(t){return t.split(e.FIELD_SEPARATOR).length},e.escapeHTMLCode=function(t){return t.replace(e.ESCAPE_HTML,"")},e.filterData=function(t,r){for(var a=r.split(e.FIELD_SEPARATOR),o=t,i=0;i<a.length;i++)for(var s=a[i],n=function(t){var r=e.OPERATORS_LIST[t];if(-1!==s.indexOf(r)){var a=s.split(r);o=o.filter((function(t){return e.compareData(e.getStringProperty(t,a[0]),r,a[1])}))}},l=0;l<e.OPERATORS_LIST.length;l++)n(l);return o},e.compareData=function(e,t,r){var a=!1;switch(t){case">":a=e>r;break;case"<":a=e<r;break;case">=":a=e>=r;break;case"<=":a=e<=r;break;case"==":a=e===r;break;case"!=":a=e!==r}return a},e.FIELD_SEPARATOR=";",e.RAW_FIELD=/`/g,e.ESCAPE_HTML=/(<\/{1})|(<{1})/gim,e.RAW_FIELD_STR="`",e.OPERATORS_LIST=[">","<","<=",">=","==","!="],e}();t.Global=r},62:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Network=void 0;var r=function(){function e(e,t,r,a){void 0===a&&(a=!0),this.url=e,this.method=t,this.params=r,this.parse_params_to_json=a}return e.prototype.call=function(e,t){var r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var a=null;try{a=JSON.parse(r.responseText)}catch(e){a=r.responseText}e(r,a)}else 4===r.readyState&&200!==r.status&&t(r)},void 0!==t&&(r.ontimeout=t),r.open(this.method,this.url,!0),r.timeout=3e4,r.setRequestHeader("Referer",this.url),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Access-Control-Allow-Origin","*"),"POST"===this.method&&void 0!==this.params){if(r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),"string"==typeof this.params&&this.parse_params_to_json&&(this.params=JSON.parse(this.params)),void 0!==this.params.time&&"DATE_NOW"===this.params.time){var a=new Date;this.params.time="".concat(a.getHours(),":").concat(a.getMinutes())}r.send(JSON.stringify(this.params))}else r.send()},e}();t.Network=r},170:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VDOM=void 0;var a=r(739),o=r(473),i=r(362),s=r(345),n=function(){function e(){}return e.add_element=function(t){e.dom_list.push(t)},e.clear=function(){for(var t=0;t<e.dom_list.length;t++)e.dom_list[t].element_class.destroy(),e.dom_list[t].element.remove();e.dom_list=[]},e.remove_element=function(t){for(var r=0;r<e.dom_list.length;r++)if(e.dom_list[r].id===t){e.dom_list[r].element_class.destroy(),e.dom_list[r].element.remove(),e.dom_list.splice(r,1);break}},e.get_class=function(e){var t=null;switch(e){case"dfor":t=a.DataFor;break;case"dvalue":t=o.DataValue;break;case"dimage":t=i.DataImage;break;case"dvideo":t=s.DataVideo}return t},e.dom_list=[],e.VALID_VDOM_LIST=[{id:"dfor",attr_name:"[data-for]"},{id:"dvalue",attr_name:"[data-value]"},{id:"dimage",attr_name:"[data-image]"},{id:"dvideo",attr_name:"[data-video]"}],e}();t.VDOM=n}},a={};e=function e(t){var o=a[t];if(void 0!==o)return o.exports;var i=a[t]={exports:{}};return r[t](i,i.exports,e),i.exports}(170),t=function(){function t(){console.log("DataJS v1.0.1");for(var t=0;t<e.VDOM.VALID_VDOM_LIST.length;t++)for(var r=e.VDOM.VALID_VDOM_LIST[t],a=document.querySelectorAll(r.attr_name),o=0;o<a.length;o++){var i=a[o],s=e.VDOM.get_class(r.id);null!==s&&(s=new s(i),i.dataset.id=o.toString(),e.VDOM.add_element({id:"".concat(r.id,"-").concat(o.toString()),element:i,element_class:s}))}}return t.prototype.clear_datajs=function(){console.log("Clear DataJS..."),e.VDOM.clear()},t}(),window.DataJS=t})();